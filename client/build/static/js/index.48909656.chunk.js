(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{125:function(t,e,n){t.exports=n.p+"static/media/netease_16.0c21a08b.ico"},126:function(t,e,n){t.exports=n.p+"static/media/qq_16.2bf5aa3f.ico"},127:function(t,e,n){t.exports=n.p+"static/media/xiami_16.deaf311e.ico"},128:function(t,e,n){t.exports=n.p+"static/media/kuwo_16.86fba451.ico"},206:function(t,e,n){t.exports=n.p+"static/media/netease_32.d699039f.ico"},207:function(t,e,n){t.exports=n.p+"static/media/qq_32.6d82e86a.ico"},208:function(t,e,n){t.exports=n.p+"static/media/xiami_32.f7904bdc.ico"},209:function(t,e,n){t.exports=n.p+"static/media/kuwo_32.2b54a7ae.ico"},219:function(t,e,n){t.exports=n(442)},35:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return c}));var a="http://localhost:8081/",r="#EA7030",c={background:"#222",color:"white"}},394:function(t,e,n){},419:function(t,e,n){},436:function(t,e,n){},442:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),i=n(18),l=n(7),s=n(6),u=n(11),f=n(14),p=n(9),d=(n(105),n(46)),h=n.n(d),m=n(474),y=n(52),g=n(37),v=(n(56),n(32)),b=n.n(v),E=(n(57),n(16)),S=n.n(E),O=n(469),k=(n(228),n(203)),j=n.n(k),w=(n(59),n(30)),R=n.n(w),I=n(25),P=(n(135),n(89)),x=n.n(P),L=n(468);function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var C=x.a.Search,A=function(t){Object(u.a)(n,t);var e=_(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).onSearch=a.onSearch.bind(Object(I.a)(a)),a}return Object(s.a)(n,[{key:"onSearch",value:function(t){""!==(t=t.trim())&&t!==this.props.keyword&&(this.props.updateSearchKeyword(t),this.props.history.push("/search?keyword=".concat(window.encodeURIComponent(t))))}},{key:"render",value:function(){var t=this,e=this.props,n=e.keyword,a=e.searchHistory,c=[{label:r.a.createElement("div",{style:{alignItems:"center",justifyContent:"space-between",display:"flex"}},r.a.createElement("span",null,"\u641c\u7d22\u5386\u53f2"),r.a.createElement(R.a,{icon:r.a.createElement(L.a,null),type:"circle",onClick:function(){return t.props.clearSearchHistory()}})),options:a.map((function(t){return{value:t}}))}];return r.a.createElement(j.a,{style:{width:"100%"},options:c,onSelect:this.onSearch,defaultActiveFirstOption:!1},r.a.createElement(C,{placeholder:"\u6b4c\u66f2 | \u4e13\u8f91 | \u827a\u4eba",defaultValue:n||"",onSearch:this.onSearch,enterButton:!0}))}}]),n}(a.Component);var T=Object(g.f)(Object(i.b)((function(t){return{keyword:t.searchKeyword,searchHistory:t.searchHistory}}),(function(t){return{updateSearchKeyword:function(e){t({type:"UPDATE_SEARCH_KEYWORD",data:e})},clearSearchHistory:function(){t({type:"CLEAR_SEARCH_HISTORY"})}}}))(A)),N=n(35);function D(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var B=function(t){Object(u.a)(n,t);var e=D(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(b.a,{type:"flex",align:"middle",className:"container"},r.a.createElement(S.a,{span:6},r.a.createElement(y.b,{to:"/"},r.a.createElement("h1",{style:{display:"inline",color:N.c,fontWeight:360}},"Tonzhon Lite"))),r.a.createElement(S.a,{span:4},r.a.createElement(y.b,{to:"".concat(N.b,"netease-playlist/1"),style:{fontSize:16}},"\u7f51\u6613\u6b4c\u5355")),r.a.createElement(S.a,{span:12},r.a.createElement(T,null)),r.a.createElement(S.a,{span:2,style:{textAlign:"right"}},r.a.createElement("a",{href:"https://github.com/enzeberg/tonzhon-music",target:"blank"},r.a.createElement(O.a,{style:{fontSize:"large"}}))))}}]),n}(a.Component),U=(n(154),n(101)),q=n.n(U),H=(n(99),n(58)),Y=n.n(H),M=n(471),z=n(125),G=n.n(z),F=n(126),K=n.n(F),V=n(127),W=n.n(V),X=n(128),J=n.n(X),Q="https://y.qq.com/n/yqq/",$="https://music.163.com/#/",Z="https://www.xiami.com/",tt="http://www.kuwo.cn";function et(t,e){switch(t){case"qq":return"".concat(Q,"song/").concat(e,".html");case"netease":return"".concat($,"song?id=").concat(e);case"xiami":return"".concat(Z,"song/").concat(e);case"kuwo":return"".concat(tt,"/play_detail/").concat(e);default:return}}function nt(t,e){switch(t){case"qq":return"".concat(Q,"mv/v/").concat(e,".html");case"netease":return"".concat($,"mv?id=").concat(e);default:return}}function at(t,e){switch(t){case"qq":return"".concat(Q,"singer/").concat(e,".html");case"netease":return"".concat($,"artist?id=").concat(e);case"xiami":return"".concat(Z,"artist/").concat(e);case"kuwo":return"".concat(tt,"/singer_detail/").concat(e);default:return}}function rt(t,e){switch(t){case"qq":return"".concat(Q,"album/").concat(e,".html");case"netease":return"".concat($,"album?id=").concat(e);case"xiami":return"".concat(Z,"album/").concat(e);case"kuwo":return"".concat(tt,"/album_detail/").concat(e);default:return}}function ct(t){var e=t.platform,n=t.artists,a=t.fontColor;return n.map((function(t,n){return r.a.createElement("a",{key:"".concat(t.id),href:at(e,t.id),target:"_blank",title:t.name,style:{color:a}},t.name,"\u2002")}))}var ot=n(71);function it(t){var e=t.platform,n=t.id,a=t.color;return r.a.createElement("a",{href:nt(e,n),target:"_blank",title:"MV"},r.a.createElement(ot.a,{style:{display:"block",fontSize:20,color:a||"black"}}))}n(100);var lt=n(49),st=n.n(lt),ut=n(470);function ft(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var pt=function(t){Object(u.a)(n,t);var e=ft(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleClick=a.handleClick.bind(Object(I.a)(a)),a}return Object(s.a)(n,[{key:"handleClick",value:function(){var t=this.props.data;this.props.addToPlayingList(t),st.a.open({message:"\u5df2\u6dfb\u52a0\u5230\u64ad\u653e\u5217\u8868"})}},{key:"render",value:function(){return r.a.createElement("a",{onClick:this.handleClick,title:"\u6dfb\u52a0\u5230\u64ad\u653e\u5217\u8868"},r.a.createElement(ut.a,{style:{fontSize:20,display:"block"}}))}}]),n}(a.Component);var dt=Object(i.b)(null,(function(t){return{addToPlayingList:function(e){t({type:"ADD_SONG_TO_PLAYING_LIST",data:e})}}}))(pt);n(394);function ht(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var mt=function(t){Object(u.a)(n,t);var e=ht(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).changeCurrentSong=function(){var t=a.props.playingList.findIndex((function(t){return t.newId===a.props.song.newId}));-1===t?(a.props.addToPlayingList(a.props.song),a.props.updatePlayIndex(a.props.playingList.length)):a.props.updatePlayIndex(t)},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.song,n=t.currentSong;return r.a.createElement(Y.a.Item,{style:{padding:"5px 10px"}},r.a.createElement(b.a,{type:"flex",align:"middle",style:{width:"100%",fontSize:14}},r.a.createElement(S.a,{span:8,className:"nowrap"},r.a.createElement("a",{href:et(e.platform,e.originalId),title:"".concat(e.name).concat(e.alias?" - ".concat(e.alias):""),target:"_blank"},r.a.createElement("span",null,e.name),r.a.createElement("span",{className:"song-alias"},e.alias&&" - ".concat(e.alias)))),r.a.createElement(S.a,{span:1},e.mv&&r.a.createElement(it,{platform:e.platform,id:e.mv})),r.a.createElement(S.a,{span:6,className:"nowrap"},r.a.createElement(ct,{platform:e.platform,artists:e.artists})),r.a.createElement(S.a,{span:6,className:"nowrap"},r.a.createElement("a",{href:rt(e.platform,e.album.id),target:"_blank",title:e.album.name},e.album.name)),r.a.createElement(S.a,{span:1},this.props.showPlatform&&r.a.createElement("img",{src:yt[e.platform],alt:e.platform,style:{display:"block"}})),r.a.createElement(S.a,{span:1},r.a.createElement("a",{onClick:this.changeCurrentSong,className:n&&n.originalId===e.originalId&&n.platform===e.platform?"play-btn playing":"play-btn"},r.a.createElement(M.a,{style:{fontSize:20,display:"block"}}))),r.a.createElement(S.a,{span:1},r.a.createElement(dt,{data:e}))))}}]),n}(a.Component),yt={qq:K.a,netease:G.a,xiami:W.a,kuwo:J.a};var gt=Object(i.b)((function(t){return{currentSong:t.playingList[t.playIndex],playingList:t.playingList}}),(function(t){return{addToPlayingList:function(e){t({type:"ADD_SONG_TO_PLAYING_LIST",data:e})},updatePlayIndex:function(e){t({type:"UPDATE_PLAY_INDEX",data:e})}}}))(mt);function vt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var bt=function(t){Object(u.a)(n,t);var e=vt(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(Y.a,{itemLayout:"horizontal",dataSource:this.props.songs,renderItem:function(e){return r.a.createElement(gt,{key:e.link,song:e,showPlatform:t.props.showPlatform})},className:"song-list"})}}]),n}(a.Component),Et=n(206),St=n.n(Et),Ot=n(207),kt=n.n(Ot),jt=n(208),wt=n.n(jt),Rt=n(209),It=n.n(Rt);function Pt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var xt=function(t){Object(u.a)(n,t);var e=Pt(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.provider,e=Lt[t],n=e.logo,a=e.link;return r.a.createElement("div",{className:"white-card",style:{marginTop:"10px"}},r.a.createElement(b.a,{type:"flex",align:"middle",style:{marginBottom:"10px"}},r.a.createElement(S.a,{span:10},r.a.createElement("a",{href:a,target:"_blank",alt:t},r.a.createElement("img",{src:n,alt:""}))),r.a.createElement(S.a,{span:8},this.props.pagination),r.a.createElement(S.a,{span:6,style:{textAlign:"right"}},this.props.operatingBar)),this.props.children)}}]),n}(a.Component),Lt={netease:{logo:St.a,link:"https://music.163.com/"},qq:{logo:kt.a,link:"https://y.qq.com/"},xiami:{logo:wt.a,link:"https://www.xiami.com/"},kuwo:{logo:It.a,link:"http://www.kuwo.cn"}},_t=xt,Ct=n(472);function At(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}st.a.config({placement:"bottomRight",bottom:50,duration:2});var Tt=function(t){Object(u.a)(n,t);var e=At(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleClick=function(){a.props.addToPlaylist(a.props.data),st.a.open({message:"\u5df2\u6dfb\u52a0\u81f3\u64ad\u653e\u5217\u8868"})},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(R.a,{icon:r.a.createElement(ut.a,null),onClick:this.handleClick},"\u6dfb\u52a0\u5230\u64ad\u653e\u5217\u8868")}}]),n}(a.Component);var Nt=Object(i.b)(null,(function(t){return{addToPlaylist:function(e){t({type:"ADD_LIST_TO_PLAYING_LIST",data:e})}}}))(Tt);function Dt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Bt=function(t){Object(u.a)(n,t);var e=Dt(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{icon:r.a.createElement(Ct.a,null),onClick:function(){return t.props.playSongList(t.props.songs)},style:{marginRight:"10px"}},"\u64ad\u653e"),r.a.createElement(Nt,{data:this.props.songs}))}}]),n}(a.Component);var Ut=Object(i.b)(null,(function(t){return{playSongList:function(e){t({type:"NEW_PLAYING_LIST",data:e}),t({type:"UPDATE_PLAY_INDEX",data:0})}}}))(Bt);function qt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Ht=function(t){Object(u.a)(n,t);var e=qt(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).onPageChange=function(t){var e=a.props,n=e.provider,r=e.keyword,c=e.onResultResponded;fetch("/api/search?provider=".concat(n,"&keyword=").concat(r,"&page=").concat(t)).then((function(t){return t.json()})).then((function(t){c(n,t)})).catch((function(t){console.log("err ",t)}))},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.result,n=t.provider;return r.a.createElement(_t,{provider:n,operatingBar:r.a.createElement(Ut,{songs:e.data.songs}),pagination:r.a.createElement(q.a,{simple:!0,onChange:this.onPageChange,defaultPageSize:4,total:e.data.totalCount})},r.a.createElement(bt,{songs:e.data.songs}))}}]),n}(a.Component);var Yt=Object(i.b)((function(t){return{keyword:t.searchKeyword}}),(function(t){return{onResultResponded:function(e,n){t({type:"UPDATE_SEARCH_RESULTS",provider:e,data:n})}}}))(Ht),Mt=n(129),zt=n.n(Mt);function Gt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Ft=function(t){Object(u.a)(n,t);var e=Gt(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.location,n=t.keywordFromStore,a=e.search.slice(1),r=zt.a.parse(a).keyword;r&&window.encodeURIComponent(r)!==n&&this.props.updateSearchKeyword(r)}},{key:"render",value:function(){return null}}]),n}(a.Component);var Kt=Object(i.b)((function(t){return{keywordFromStore:t.searchKeyword}}),(function(t){return{updateSearchKeyword:function(e){t({type:"UPDATE_SEARCH_KEYWORD",data:e})}}}))(Ft),Vt=n(8);function Wt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Xt=function(t){Object(u.a)(n,t);var e=Wt(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={topSongs:[]},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t){var e=this,n=this.props.searchResults;n!==t.searchResults&&(0===Object.keys(n).length&&this.setState({topSongs:[]}),Object.keys(n).forEach((function(t){e.state.topSongs.every((function(e){return e.platform!==t}))&&n[t].searchSuccess&&e.setState({topSongs:[].concat(Object(Vt.a)(e.state.topSongs),[n[t].data.songs[0]])})})))}},{key:"render",value:function(){return 0===this.state.topSongs.length?null:r.a.createElement("div",{className:"white-card"},r.a.createElement(bt,{songs:this.state.topSongs,showPlatform:!0}))}}]),n}(a.Component);var Jt=Object(i.b)((function(t){return{searchResults:t.searchResults}}))(Xt),Qt=(n(113),n(88)),$t=n.n(Qt),Zt=(n(196),n(103)),te=n.n(Zt),ee=n(473),ne=n(475),ae=n(476),re=n(477),ce=n(478),oe=n(159);n(419);function ie(t){return t.artists.map((function(t,e){return r.a.createElement(a.Fragment,{key:t.id},t.name,"\u2002")}))}function le(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var se=function(t){Object(u.a)(n,t);var e=le(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).changeCurrentSong=function(){var t=a.props.playingList.findIndex((function(t){return t.newId===a.props.song.newId}));-1===t?(a.props.addToPlayingList(a.props.song),a.props.updatePlayIndex(a.props.playingList.length)):a.props.updatePlayIndex(t)},a.deleteFromPlaylist=function(t){t.stopPropagation();var e=a.props.playingList.findIndex((function(t){return t.newId===a.props.song.newId}));e+1===a.props.playingList.length&&a.props.updatePlayIndex(0),a.props.deleteSongInPlayingList(e,a.props.playIndex)},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.song,n=t.currentSong;return r.a.createElement(Y.a.Item,{onClick:this.changeCurrentSong,className:n&&n.newId===e.newId?"playing":"",style:{border:"none",padding:"6px 10px"},extra:r.a.createElement("a",{onClick:this.deleteFromPlaylist,className:"delete-btn"},r.a.createElement(L.a,{style:{fontSize:18,verticalAlign:"middle"}}))},r.a.createElement(b.a,{type:"flex",align:"middle",style:{width:"100%",color:"white"}},r.a.createElement(S.a,{span:12,className:"nowrap"},e.name),r.a.createElement(S.a,{span:10,className:"nowrap"},r.a.createElement(ie,{artists:e.artists})),r.a.createElement(S.a,{span:2},r.a.createElement("img",{src:ue[e.platform],alt:e.platform}))))}}]),n}(a.Component),ue={qq:K.a,netease:G.a,xiami:W.a,kuwo:J.a};var fe=Object(i.b)((function(t){return{currentSong:t.playingList[t.playIndex],playingList:t.playingList,playIndex:t.playIndex}}),(function(t){return{addToPlaylist:function(e){t({type:"ADD_TO_PLAYING_LIST",data:e})},updatePlayIndex:function(e){t({type:"UPDATE_PLAY_INDEX",data:e})},deleteSongInPlayingList:function(e,n){t({type:"DELETE_SONG_IN_PLAYING_LIST",data:e}),e<n&&t({type:"UPDATE_PLAY_INDEX",data:n-1})}}}))(se);function pe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var de=function(t){Object(u.a)(n,t);var e=pe(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:he.wrapper},r.a.createElement(b.a,{type:"flex",align:"middle",justify:"space-between",style:he.header},r.a.createElement(S.a,{span:20},"\u64ad\u653e\u5217\u8868"),r.a.createElement(S.a,{span:4,style:{textAlign:"right"}},r.a.createElement(R.a,{icon:r.a.createElement(L.a,null),ghost:!0,onClick:this.props.clearPlaylist},"\u6e05\u7a7a"))),r.a.createElement(Y.a,{id:"playingList",style:he.list,itemLayout:"horizontal",dataSource:this.props.dataSource,renderItem:function(t){return r.a.createElement(fe,{key:t.link,song:t})}}),r.a.createElement("style",{jsx:"true"},"\n          #playingList::-webkit-scrollbar {\n            background-color: #222;\n            width: 7px;\n            border-radius: 10px;\n          }\n          #playingList::-webkit-scrollbar-thumb {\n            background-color: #999;\n            border-radius: 10px;\n            /* width: 5px; */\n          }\n          #playingList::-webkit-scrollbar-track {\n            display: none;\n            border-radius: 10px;\n          }\n          #playingList::-webkit-scrollbar-track-piece {\n            border-radius: 10px;\n          }\n          #playingList li:hover {\n            cursor: pointer;\n            background-color: rgb(50, 50, 50);\n          }\n          #playingList li.playing {\n            background-color: rgb(60, 60, 60);\n          }\n        "))}}]),n}(a.Component),he={wrapper:{position:"absolute",bottom:64,color:"white",right:"".concat((document.body.clientWidth-1e3)/2,"px"),width:600,height:320,borderTopLeftRadius:5,borderTopRightRadius:5,background:"rgb(70,70,70)"},header:{padding:10,background:"#222",borderTopLeftRadius:5,borderTopRightRadius:5},list:{color:"white",overflow:"auto",height:268}};var me=Object(i.b)((function(t){return{dataSource:t.playingList}}),(function(t){return{clearPlaylist:function(){t({type:"CLEAR_PLAYING_LIST"})}}}))(de),ye=n(77);function ge(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var ve={loop:r.a.createElement(ot.b,{className:"player-icon"}),single:r.a.createElement(ot.c,{className:"player-icon"}),shuffle:r.a.createElement(ot.d,{className:"player-icon"})},be=["loop","single","shuffle"],Ee={loop:"\u5faa\u73af",single:"\u5355\u66f2\u5faa\u73af",shuffle:"\u968f\u673a"},Se=function(t){Object(u.a)(n,t);var e=ge(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={getMusicUrlStatus:"notYet",playStatus:"pausing",playMode:localStorage.getItem("playMode")||"loop",volume:localStorage.getItem("volume")?Number(localStorage.getItem("volume")):.6,songSource:null,muted:!1,playProgress:0,playingListVisible:!1},a.playOrPause=a.playOrPause.bind(Object(I.a)(a)),a.changePlayProgress=a.changePlayProgress.bind(Object(I.a)(a)),a.onVolumeBtnClick=a.onVolumeBtnClick.bind(Object(I.a)(a)),a.changeVolume=a.changeVolume.bind(Object(I.a)(a)),a.playNext=a.playNext.bind(Object(I.a)(a)),a.switchPlayMode=a.switchPlayMode.bind(Object(I.a)(a)),a.onPlayingListBtnClick=a.onPlayingListBtnClick.bind(Object(I.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.audio.volume=this.state.volume,this.audio.addEventListener("loadeddata",(function(){t.setState({songLoaded:!0,songDuration:t.audio.duration})})),this.audio.addEventListener("play",(function(){document.title="".concat(t.props.currentSong.name," -\n                        ").concat(t.props.currentSong.artists.map((function(t){return t.name})).reduce((function(t,e){return t+" / "+e}))),t.interval&&clearInterval(t.interval),t.interval=setInterval((function(){t.setState({playProgress:t.audio.currentTime})}),1e3)})),this.audio.addEventListener("pause",(function(){t.interval&&clearInterval(t.interval)})),this.audio.addEventListener("ended",(function(){clearInterval(t.interval),t.setState({playProgress:t.audio.currentTime},(function(){t.playNext("forward")}))}))}},{key:"componentDidUpdate",value:function(t){var e=t.currentSong,n=this.props.currentSong;n?(e&&n.newId!==e.newId||!e)&&(this.audio.pause(),this.setState({songSource:null,songLoaded:!1,playProgress:0}),this.getSongSourceAndPlay(n)):e&&this.setState({songSource:null,songLoaded:!1,playProgress:0})}},{key:"playOrPause",value:function(){var t=this.state.playStatus;if("pausing"===t)if(this.state.songSource)this.play();else{var e=this.props.currentSong;this.getSongSourceAndPlay(e)}else"playing"===t&&this.pause()}},{key:"getSongSourceAndPlay",value:function(t){var e=this;this.getSongSource(t.platform,t.originalId,(function(){e.play()}))}},{key:"play",value:function(){this.audio.play(),this.setState({playStatus:"playing"})}},{key:"pause",value:function(){this.audio.pause(),this.setState({playStatus:"pausing"})}},{key:"getSongSource",value:function(t,e,n){var a=this;this.setState({getMusicUrlStatus:"started"}),fetch("".concat(N.b,"api/song_source/").concat(t,"/").concat(e)).then((function(t){return t.json()})).then((function(t){"ok"===t.status?a.setState({getMusicUrlStatus:"ok",songSource:t.data.songSource,songLoaded:!1},n):a.setState({getMusicUrlStatus:"failed"},(function(){a.afterLoadingFailure()}))})).catch((function(t){a.setState({getMusicUrlStatus:"failed"},(function(){a.afterLoadingFailure()}))}))}},{key:"afterLoadingFailure",value:function(){st.a.open({message:"\u52a0\u8f7d\u5931\u8d25\uff0c\u5df2\u8df3\u8fc7"}),this.playNext("forward")}},{key:"changePlayProgress",value:function(t){this.audio.currentTime=t,this.setState({playProgress:t})}},{key:"onVolumeBtnClick",value:function(){this.state.muted?(this.audio.muted=!1,this.setState({muted:!1})):(this.audio.muted=!0,this.setState({muted:!0}))}},{key:"changeVolume",value:function(t){this.audio.volume=t,this.setState({volume:t}),localStorage.setItem("volume",t)}},{key:"playNext",value:function(t){"playing"===this.state.playStatus&&this.pause();var e=this.props,n=e.currentSong,a=e.playingList,r=this.state.playMode;"single"===r||1===a.length?(this.audio.currentTime=0,this.play()):this.props.changePlayIndex(n,a,r,t)}},{key:"switchPlayMode",value:function(){var t=be.indexOf(this.state.playMode),e=be[t+1]||be[0];localStorage.setItem("playMode",e),this.setState({playMode:e})}},{key:"onPlayingListBtnClick",value:function(){this.setState({playingListVisible:!this.state.playingListVisible})}},{key:"render",value:function(){var t=this,e=this.props.currentSong,n=this.state,a=n.getMusicUrlStatus,c=n.playStatus,o=Object(ye.a)(this.state.playProgress),i=Object(ye.a)(this.state.songDuration);return r.a.createElement("div",{style:Oe.player,id:"music-player"},r.a.createElement("audio",{src:this.state.songSource,ref:function(e){t.audio=e}}),r.a.createElement(b.a,{type:"flex",align:"middle",className:"container",justify:"space-around"},r.a.createElement(S.a,{span:4},r.a.createElement(R.a,{ghost:!0,shape:"circle",icon:r.a.createElement(ee.a,null),onClick:function(){return t.playNext("backward")}}),r.a.createElement(R.a,{ghost:!0,shape:"circle",size:"large",onClick:this.playOrPause,style:{margin:"0 10px"},icon:"notYet"===a?r.a.createElement(Ct.a,null):"started"===a?r.a.createElement(m.a,null):"ok"===a&&"playing"===c?r.a.createElement(ne.a,null):r.a.createElement(Ct.a,null),disabled:!e}),r.a.createElement(R.a,{ghost:!0,shape:"circle",icon:r.a.createElement(ae.a,null),onClick:function(){return t.playNext("forward")}})),r.a.createElement(S.a,{span:14,style:{paddingRight:40}},r.a.createElement(b.a,{type:"flex",align:"middle",justify:"space-between",style:{height:20}},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{span:7,className:"nowrap"},r.a.createElement("a",{href:et(e.platform,e.originalId),style:{color:"white",marginRight:4,fontSize:16},target:"_blank",title:e.name},r.a.createElement("strong",null,e.name))),r.a.createElement(S.a,{span:2},e.mv&&r.a.createElement(it,{platform:e.platform,id:e.mv,color:"white"})),r.a.createElement(S.a,{span:6,className:"nowrap"},e.artists&&r.a.createElement(ct,{artists:e.artists,platform:e.platform,fontColor:"white"})),r.a.createElement(S.a,{span:5,style:{fontSize:"small",fontWeight:"lighter",color:"rgb(230, 230, 230)"}},"\u6765\u81ea".concat(ke[e.platform])),r.a.createElement(S.a,{span:4,style:{textAlign:"right"}},"failed"===a?"\u52a0\u8f7d\u5931\u8d25":this.state.songLoaded?"".concat(o," / ").concat(i):"00:00 / 00:00"))),r.a.createElement(te.a,{min:0,max:this.state.songDuration?parseInt(this.state.songDuration):0,value:this.state.playProgress,tipFormatter:function(t){return Object(ye.a)(t)},onChange:this.changePlayProgress,disabled:!this.state.songSource,style:{margin:"8px 0"}})),r.a.createElement(S.a,{span:1},r.a.createElement(R.a,{icon:r.a.createElement(re.a,null),ghost:!0,shape:"circle",href:this.state.songSource,target:"_blank",download:!0,disabled:null===this.state.songSource})),r.a.createElement(S.a,{span:1,style:{paddingLeft:3}},r.a.createElement($t.a,{title:Ee[this.state.playMode]},r.a.createElement("a",{onClick:this.switchPlayMode},ve[this.state.playMode]))),r.a.createElement(S.a,{span:3},r.a.createElement(b.a,{type:"flex",align:"middle"},r.a.createElement(S.a,{span:4},r.a.createElement("a",{onClick:this.onVolumeBtnClick},this.state.muted?r.a.createElement(oe.b,{className:"player-icon"}):r.a.createElement(oe.a,{className:"player-icon"}))),r.a.createElement(S.a,{span:20},r.a.createElement(te.a,{min:0,max:1,step:.01,defaultValue:this.state.volume,onChange:this.changeVolume})))),r.a.createElement(S.a,{span:1,style:{textAlign:"right"}},r.a.createElement(R.a,{ghost:!0,icon:r.a.createElement(ce.a,null),onClick:this.onPlayingListBtnClick,title:"\u64ad\u653e\u5217\u8868"}))),this.state.playingListVisible&&r.a.createElement(me,null))}}]),n}(a.Component),Oe={player:{position:"fixed",bottom:0,padding:"8px 0",width:"100%",backgroundColor:N.a.background,color:N.a.color}},ke={qq:"QQ\u97f3\u4e50",netease:"\u7f51\u6613\u4e91\u97f3\u4e50",xiami:"\u867e\u7c73\u97f3\u4e50",kuwo:"\u9177\u6211\u97f3\u4e50"};var je=Object(i.b)((function(t){return{currentSong:t.playingList[t.playIndex],playingList:t.playingList}}),(function(t){return{changePlayIndex:function(e,n,a,r){var c,o=n.findIndex((function(t){return t.newId===e.newId}));if("loop"===a)"forward"===r?c=n[o+1]?o+1:0:"backward"===r&&(c=n[o-1]?o-1:n.length-1);else if("shuffle"===a)do{c=Math.floor(Math.random()*n.length)}while(c===o);void 0!==c&&t({type:"UPDATE_PLAY_INDEX",data:c})}}}))(Se),we=(n(424),n(104)),Re=n.n(we);function Ie(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Pe=function(t){Object(u.a)(n,t);var e=Ie(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={loading:!0,songs:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchHotList(this.props.platform)}},{key:"componentDidUpdate",value:function(t){t.platform!==this.props.platform&&this.fetchHotList(this.props.platform)}},{key:"fetchHotList",value:function(t){var e=this;this.setState({loading:!0}),fetch("".concat(N.b,"api/hot_list/").concat(t),{credentials:"include"}).then((function(t){return t.json()})).then((function(t){"ok"===t.status&&e.setState({loading:!1,songs:t.data.songs})})).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){var t=this.state.songs;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{textAlign:"right",marginBottom:"10px"}},t.length>0&&r.a.createElement(Ut,{songs:t})),this.state.loading?r.a.createElement(m.a,null):r.a.createElement(bt,{songs:t}))}}]),n}(a.Component);function xe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Le=h.a.Sider,_e=h.a.Content,Ce=function(t){Object(u.a)(n,t);var e=xe(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).changePlatform=function(t){t.item;var e=t.key;a.setState({platform:e})},a.state={platform:"qq"},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"white-card"},r.a.createElement(Le,{style:{background:"none",marginRight:20}},r.a.createElement("h2",null,"\u70ed\u6b4c\u699c"),r.a.createElement(Re.a,{defaultSelectedKeys:["qq"],mode:"inline",defaultOpenKeys:["qq"],onClick:this.changePlatform},r.a.createElement(Re.a.Item,{key:"qq"},"QQ\u97f3\u4e50"),r.a.createElement(Re.a.Item,{key:"netease"},"\u7f51\u6613\u4e91\u97f3\u4e50"),r.a.createElement(Re.a.Item,{key:"kuwo"},"\u9177\u6211\u97f3\u4e50"))),r.a.createElement(_e,{style:{background:"none"}},r.a.createElement(Pe,{platform:this.state.platform})))}}]),n}(a.Component),Ae=n(10),Te=n(479);function Ne(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var De=function(t){Object(u.a)(n,t);var e=Ne(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={loading:!0,playlistName:"",songs:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchPlaylist(this.props.playlistId)}},{key:"componentDidUpdate",value:function(t){t.playlistId!==this.props.playlistId&&this.fetchPlaylist(this.props.playlistId)}},{key:"fetchPlaylist",value:function(t){var e=this;this.setState({loading:!0,playlistName:"",songs:[]}),fetch("/api/netease-playlist/".concat(t),{credentials:"include"}).then((function(t){return t.json()})).then((function(t){e.setState({loading:!1}),"ok"===t.status&&e.setState({playlistName:t.data.name,songs:t.data.songs})})).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){var t=this.state,e=t.playlistName,n=t.songs;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",align:"middle",justify:"space-between",style:{marginBottom:"10px"}},r.a.createElement(S.a,{span:16,style:{fontSize:20}},e),r.a.createElement(S.a,{span:8,style:{textAlign:"right"}},n.length>0&&r.a.createElement(Ut,{songs:n}))),this.state.loading?r.a.createElement(m.a,null):n.length>0?r.a.createElement(bt,{songs:n}):"\u83b7\u53d6\u5931\u8d25\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u8be5 Playlist ID \u4e0d\u5b58\u5728\u3002")}}]),n}(a.Component),Be=h.a.Sider,Ue=h.a.Content,qe=x.a.Search;var He=Object(g.f)((function(t){var e=t.match.params.playlistId,n=Object(a.useState)(e||""),c=Object(Ae.a)(n,2),o=c[0],i=c[1];return r.a.createElement(y.a,{basename:"".concat(N.b,"netease-playlist")},r.a.createElement(h.a,{style:{background:"white",padding:10}},r.a.createElement(Be,{style:{background:"none",marginRight:20}},r.a.createElement("h2",null,"\u7f51\u6613\u6b4c\u5355"),r.a.createElement(qe,{enterButton:r.a.createElement(Te.a,null),onSearch:function(e){i(e),t.history.replace("".concat(N.b,"netease-playlist/").concat(e))},placeholder:"\u6b64\u5904\u7c98\u8d34 Playlist ID"})),r.a.createElement(Ue,{style:{background:"none"}},r.a.createElement(De,{playlistId:o}))))}));n(436);function Ye(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Me=h.a.Header,ze=h.a.Content,Ge=function(t){Object(u.a)(n,t);var e=Ye(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.searchStatus,n=t.searchResults;return r.a.createElement(y.a,null,r.a.createElement(h.a,{style:{backgroundColor:"#f7f7f7"}},r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/search",component:Kt})),r.a.createElement(Me,{style:{position:"fixed",width:"100%",zIndex:1040,padding:"8px 0",boxShadow:"0 1px 3px rgba(26,26,26,.1)"}},r.a.createElement(B,null)),r.a.createElement(ze,null,r.a.createElement("div",{className:"container",style:{marginTop:59,marginBottom:74,minHeight:800}},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:Ce}),r.a.createElement(g.a,{path:"/search",render:function(){var t=Object.keys(n).filter((function(t){var e=n[t];return e.searchSuccess&&e.data.totalCount>0}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,null),t.map((function(t){return r.a.createElement(Yt,{result:n[t],provider:t,key:t})})),0===t.length&&"done"===e&&r.a.createElement("div",{className:"white-card"},"\u62b1\u6b49\uff0c\u672a\u641c\u7d22\u5230\u76f8\u5173\u5185\u5bb9\u3002"),"searching"===e&&r.a.createElement(m.a,null))}}),r.a.createElement(g.a,{path:"/netease-playlist/:playlistId",component:He}),r.a.createElement(g.a,{path:"/*",component:Ce})))),r.a.createElement(je,null)))}}]),n}(a.Component);var Fe=Object(i.b)((function(t){return{searchStatus:t.searchStatus,searchResults:t.searchResults}}))(Ge),Ke=n(79),Ve=localStorage.getItem("searchHistory");!Ve||Ve.includes("[")||Ve.includes("]")||(Ve=!1);var We=Ve&&JSON.parse(Ve)||[],Xe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_SEARCH_HISTORY":var n=e.data;return(Ve=Object(Vt.a)(t)).includes(n)&&Ve.splice(Ve.indexOf(n),1),(Ve=[n].concat(Object(Vt.a)(Ve))).length>6&&(Ve=Ve.splice(0,6)),localStorage.setItem("searchHistory",JSON.stringify(Ve)),Ve;case"CLEAR_SEARCH_HISTORY":return localStorage.setItem("searchHistory",""),[];default:return t}},Je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not_searched_yet",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_SEARCH_STATUS":return e.data;default:return t}},Qe=n(4),$e=n(93),Ze={},tn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_SEARCH_RESULTS":return Object($e.a)({},t,Object(Qe.a)({},e.provider,e.data));case"CLEAR_RESULTS":return{};default:return t}},en=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_SEARCH_KEYWORD":return e.data;default:return t}},nn=localStorage.getItem("playingList"),an=nn&&JSON.parse(nn)||[];function rn(t){localStorage.setItem("playingList",JSON.stringify(t))}var cn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,e=arguments.length>1?arguments[1]:void 0,n=e.data;switch(e.type){case"ADD_SONG_TO_PLAYING_LIST":return t.some((function(t){return t.newId===n.newId}))?nn=t:rn(nn=[].concat(Object(Vt.a)(t),[n])),nn;case"ADD_LIST_TO_PLAYING_LIST":return n=n.filter((function(e){return t.every((function(t){return t.newId!==e.newId}))})),rn(nn=t.concat(n)),nn;case"NEW_PLAYING_LIST":return rn(nn=n),nn;case"DELETE_SONG_IN_PLAYING_LIST":return(nn=Array.from(t)).splice(n,1),rn(nn),nn;case"CLEAR_PLAYING_LIST":return rn([]),[];default:return t}},on=localStorage.getItem("playIndex"),ln=on?Number(on):0,sn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_PLAY_INDEX":return on=e.data,localStorage.setItem("playIndex",on),on;case"CLEAR_PLAY_INDEX":return localStorage.setItem("playIndex",""),0;default:return t}},un=Object(Ke.a)({providers:function(){return["netease","qq","kuwo"]},searchHistory:Xe,searchStatus:Je,searchResults:tn,searchKeyword:en,playingList:cn,playIndex:sn}),fn=Object(Ke.b)(un),pn=fn.getState(),dn=pn.providers,hn=pn.searchKeyword;fn.subscribe((function(){var t=fn.getState().searchKeyword;if(hn!==t){hn=t,vn(t),mn();var e=0;dn.forEach((function(n){fetch("".concat(N.b,"api/search?provider=").concat(n,"&keyword=").concat(window.encodeURIComponent(t)),{credentials:"include"}).then((function(t){return t.json()})).then((function(t){yn(n,t),++e===dn.length&&gn()})).catch((function(t){console.log("err ",t)}))}))}}));var mn=function(){fn.dispatch({type:"CLEAR_RESULTS"}),fn.dispatch({type:"UPDATE_SEARCH_STATUS",data:"searching"})},yn=function(t,e){fn.dispatch({type:"UPDATE_SEARCH_RESULTS",provider:t,data:e})},gn=function(){fn.dispatch({type:"UPDATE_SEARCH_STATUS",data:"done"})},vn=function(t){fn.dispatch({type:"UPDATE_SEARCH_HISTORY",data:t})},bn=fn,En=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sn(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}o.a.render(r.a.createElement(i.a,{store:bn},r.a.createElement(Fe,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("http://localhost:8081",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("http://localhost:8081","/service-worker.js");En?function(t){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Sn(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):Sn(t)}))}}()},77:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t){t=Math.floor(t);var e=Math.floor(t/60);return t%=60,e<10&&(e="0".concat(e)),t<10&&(t="0".concat(t)),"".concat(e,":").concat(t)}}},[[219,3,0,5]]]);